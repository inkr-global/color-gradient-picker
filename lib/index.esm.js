import{jsxs,jsx,Fragment}from"react/jsx-runtime";import{useState,useRef,useEffect,useCallback,useMemo}from"react";var __assign=function(){return(__assign=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};function __rest(e,n){var t={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function __awaiter(e,i,l,s){return new(l=l||Promise)(function(t,n){function o(e){try{a(s.next(e))}catch(e){n(e)}}function r(e){try{a(s.throw(e))}catch(e){n(e)}}function a(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(o,r)}a((s=s.apply(e,i||[])).next())})}function __generator(o,r){var a,i,l,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(t){return function(e){var n=[t,e];if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,i&&(l=2&n[0]?i.return:n[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,n[1])).done)return l;switch(i=0,(n=l?[2&n[0],l.value]:n)[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(l=0<(l=s.trys).length&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=r.call(o,s)}catch(e){n=[6,e],i=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}}function __spreadArray(e,n,t){if(t||2===arguments.length)for(var o,r=0,a=n.length;r<a;r++)!o&&r in n||((o=o||Array.prototype.slice.call(n,0,r))[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function toVal(e){var n,t,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=toVal(e[n]))&&(o&&(o+=" "),o+=t);else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function cn(){for(var e,n=0,t="";n<arguments.length;)(e=arguments[n++])&&(e=toVal(e))&&(t&&(t+=" "),t+=e);return t}var KEYS={ENTER:"Enter"},ALPHA_DISPLAY_VALUE_RANGE={MAX:100,MIN:0},ALPHA_VALUE_RANGE={MAX:1,MIN:0},RGB_VALUE_RANGE={MAX:255,MIN:0},DEGREE_VALUE_RANGE={MAX:360,MIN:0},DEFAULT_HEX_DARK="#000",DEFAULT_HEX_LIGHT="#fff",ALPHA_SYMBOL="%",DEGREE_SYMBOL="Â°",DEFAULT_COLOR_TYPE="solid",STOP_WIDTH=14,HALF_STOP_WIDTH=STOP_WIDTH/2,DEFAULT_STOP_REMOVAL_DROP=50,DEFAULT_PALETTE_WIDTH=258,DEFAULT_PALETTE_HEIGHT=22,DEFAULT_MAX_STOPS=5,DEFAULT_MIN_STOPS=2,DEFAULT_PALETTE=[{id:1,offset:0,red:0,green:0,blue:0,alpha:ALPHA_VALUE_RANGE.MAX},{id:2,offset:1,red:255,green:255,blue:255,alpha:ALPHA_VALUE_RANGE.MAX}],DEFAULT_DEGREE=90,DEFAULT_GRADIENT={degree:DEFAULT_DEGREE,points:DEFAULT_PALETTE};function hexToRgb(e){var n=e.replace(/[^a-fA-F0-9]/g,"");if(6!==n.length&&3!==n.length)throw new Error("Color should be either 3 or 6 characters in length - received a length of ".concat(n.length));3===n.length&&(n="".concat(n[0].repeat(2)).concat(n[1].repeat(2)).concat(n[2].repeat(2)));n=parseInt(n,16);if(Number.isNaN(n))throw new Error("Unable to parse hex color ".concat(e));return{red:n>>16&255,green:n>>8&255,blue:255&n}}function rgbToHex(e,n,t){return"#".concat((16777216+(t|n<<8|e<<16)).toString(16).slice(1))}function getAlphaFromPosition(e,n){return n?Math.max(Math.min(e/n,1),0):0}function getAlphaDisplayValueFromAlpha(e,n){return"".concat(Math.round(100*e)).concat(n)}function getHueFromPosition(e,n){return n?360*Math.max(Math.min(e/n,1),0):0}function getSaturationValueFromPosition(e,n,t,o){n=o?1-n/o:0;return{saturation:Math.max(Math.min(t?e/t:0,1),0),value:Math.max(Math.min(n,1),0)}}var openNativeEyeDropper=function(){return __awaiter(void 0,void 0,void 0,function(){var n,t;return __generator(this,function(e){switch(e.label){case 0:n=new AbortController,t=new EyeDropper,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.open({signal:n.signal})];case 2:return[2,e.sent().sRGBHex];case 3:return e.sent(),[2,null];case 4:return[2]}})})},sortPalettePoints=function(e){return e.sort(function(e,n){return e.offset-n.offset})},getLinearGradientBackgroundCss=function(e){var e=__assign({},e),n=sortPalettePoints(__spreadArray([],e.points,!0));return"linear-gradient(\n    ".concat(e.degree,"deg,\n    ").concat(n.map(function(e){var n=e.alpha,t=e.offset,o=e.red,r=e.green,e=e.blue;return"rgb(".concat(o,", ").concat(r,", ").concat(e,", ").concat(n,") ").concat(100*t,"%")}).join(", "),"\n  )")},getRandomString=function(){return Math.random().toString(36).substring(7)};function styleInject(e,n){var t,o,n=(n=void 0===n?{}:n).insertAt;e&&"undefined"!=typeof document&&(t=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("style")).type="text/css","top"===n&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)))}var css_248z$f='.Input-Base-module_container__whOJB {\n  display: inline-flex;\n  align-items: center;\n  height: 26px;\n}\n\n.Input-Base-module_wrapper__7Os8A {\n  display: inline-flex;\n  align-items: center;\n  border-radius: 4px;\n  height: 100%;\n  border: 1px solid transparent;\n  flex-grow: 1;\n  transition: border-color 0.25s ease;\n}\n\n.Input-Base-module_container__whOJB:hover .Input-Base-module_wrapper__7Os8A {\n  border: 1px solid var(--cgp-input-hover-color);\n}\n\n.Input-Base-module_container__whOJB .Input-Base-module_wrapper__7Os8A.Input-Base-module_isFocus__2LVSx {\n  border: 1px solid var(--cgp-input-focus-color);\n}\n\n.Input-Base-module_container__whOJB .Input-Base-module_extra_component__T-uln {\n  border: none !important;\n}\n\n.Input-Base-module_extra_component__T-uln input {\n  padding-left: 6px;\n}\n\n.Input-Base-module_label__-LIsl {\n  margin-right: 12px;\n}\n\n.Input-Base-module_input__CaZf0 {\n  border: none;\n  line-height: 1.5;\n  background-color: transparent;\n  color: var(--cgp-text-color);\n  outline: none;\n  font-size: 14px;\n  margin-right: 8px;\n}\n\n.Input-Base-module_input__CaZf0::-webkit-outer-spin-button,\n.Input-Base-module_input__CaZf0::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n.Input-Base-module_input__CaZf0[type="number"] {\n  -moz-appearance: textfield;\n}\n\n.Input-Base-module_info__-B6y2 {\n  margin-right: 6px;\n  margin-left: 6px;\n  color: #bbb !important;\n}\n',s$e={container:"Input-Base-module_container__whOJB",wrapper:"Input-Base-module_wrapper__7Os8A",isFocus:"Input-Base-module_isFocus__2LVSx",extra_component:"Input-Base-module_extra_component__T-uln",label:"Input-Base-module_label__-LIsl",input:"Input-Base-module_input__CaZf0",info:"Input-Base-module_info__-B6y2"};function ColorInputBase(e){var n=e.className,t=e.info,o=e.label,r=e.style,a=e.inputWrapperClassName,i=e.inputClassName,l=e.inputProps,s=e.placeholder,u=e.onInputFocus,c=e.onInputBlur,p=e.onChange,d=e.onKeyDown,_=e.value,g=e.inputWidth,f=e.extraInput,e=e.isExtraComponent,l=l||{},h=l.style,l=__rest(l,["style"]),m=useState(),v=m[0],x=m[1],b=useRef(null);return useEffect(function(){if("undefined"==typeof document)return function(){};function e(e){var n;null!=(n=b.current)&&n.contains(e.target)?x(!0):x(!1)}return document.addEventListener("click",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("click",e),document.removeEventListener("touchstart",e)}},[]),jsxs("div",__assign({className:cn(s$e.container,"input-base",n),style:r},{children:[o&&jsx("div",__assign({className:cn(s$e.label)},{children:o})),jsxs("div",__assign({className:cn(s$e.wrapper,v&&s$e.isFocus,e&&s$e.extra_component,a),ref:b},{children:[t&&!e&&jsx("div",__assign({className:cn(s$e.info)},{children:t})),jsx("input",__assign({},l,{style:__assign(__assign({},h),{width:g}),onFocus:function(e){"function"==typeof u&&u(e),setTimeout(function(){e.target.select()},100)},onBlur:c,placeholder:s,className:cn(s$e.input,i),value:_,onChange:p,onKeyDown:d})),f]}))]}))}styleInject(css_248z$f);var getDegreeString=function(e){return"".concat(e).concat(DEGREE_SYMBOL)};function ColorInputDegree(e){function n(){var e=parseInt(null==(e=null==l?void 0:l.toString())?void 0:e.replace(DEGREE_SYMBOL,""));o(e),s(getDegreeString(e))}var t=e.value,o=e.onChange,r=e.onInputBlur,a=e.theme,e=__rest(e,["value","onChange","onInputBlur","theme"]),i=useState(getDegreeString(t)),l=i[0],s=i[1];useEffect(function(){s(getDegreeString(t))},[t]);return jsx(ColorInputBase,__assign({},e,{onChange:function(e){e=parseInt(e.currentTarget.value.replace(DEGREE_SYMBOL,""));(e=(e=Math.round(e))<DEGREE_VALUE_RANGE.MIN?DEGREE_VALUE_RANGE.MIN:e)>DEGREE_VALUE_RANGE.MAX&&(e=DEGREE_VALUE_RANGE.MAX),Number.isNaN(e)&&(e=DEGREE_VALUE_RANGE.MIN),s("".concat(e))},onKeyDown:function(e){e.stopPropagation(),e.key===KEYS.ENTER&&n()},value:l,onInputBlur:function(e){n(),"function"==typeof r&&r(e)},onInputFocus:function(){s(l.replace(DEGREE_SYMBOL,""))},info:jsx(DegreeInfo,{theme:a}),inputWidth:35}))}function DegreeInfo(e){e=e.theme;return jsx("svg",__assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"relative",top:2}},{children:jsx("path",{d:"M6.99062 0.937567C3.53906 0.942254 0.75 3.73444 0.75 7.186C0.75 9.186 1.69062 10.9673 3.15312 12.111L2.56719 12.861C2.50313 12.9438 2.5625 13.0641 2.66563 13.0626L5.275 13.0501C5.35625 13.0501 5.41562 12.9735 5.39531 12.8954L4.77812 10.3594C4.77255 10.3366 4.76064 10.3158 4.74376 10.2994C4.72688 10.283 4.70571 10.2717 4.6827 10.2668C4.65968 10.2619 4.63575 10.2636 4.61366 10.2717C4.59157 10.2798 4.57221 10.294 4.55781 10.3126L3.92188 11.1266C3.7625 11.0016 3.60938 10.8657 3.46406 10.7204C3.00722 10.2651 2.64318 9.72543 2.39219 9.13132C2.13125 8.51569 2 7.861 2 7.186C2 6.511 2.13125 5.85632 2.39219 5.24069C2.64375 4.64538 3.00469 4.111 3.46406 3.65163C3.92344 3.19225 4.45781 2.83132 5.05312 2.57975C5.67031 2.31882 6.325 2.18757 7 2.18757C7.675 2.18757 8.32969 2.31882 8.94531 2.57975C9.54062 2.83132 10.075 3.19225 10.5344 3.65163C10.9938 4.111 11.3547 4.64538 11.6062 5.24069C11.8672 5.85632 11.9984 6.511 11.9984 7.186C11.9984 7.861 11.8672 8.51569 11.6062 9.13132C11.3553 9.72543 10.9912 10.2651 10.5344 10.7204C10.4172 10.8376 10.2953 10.9469 10.1687 11.0516C10.1434 11.0722 10.1272 11.102 10.1237 11.1345C10.1202 11.167 10.1296 11.1995 10.15 11.2251L10.7656 12.0141C10.8094 12.0688 10.8891 12.0782 10.9438 12.0344C12.3516 10.8876 13.25 9.14225 13.25 7.186C13.25 3.73132 10.4469 0.932879 6.99062 0.937567Z",fill:"light"===e?"#bbb":"white",fillOpacity:"light"===e?"0.8":"0.3"})}))}function rgbToHsv(e,n,t){var o=e/255,r=n/255,a=t/255,e=Math.max(o,r,a),n=Math.min(o,r,a),i=e-n,l=0,t=0===e?0:i/e,s=e;if(n!==e){switch(e){case o:l=(r-a)/i+(r<a?6:0);break;case r:l=(a-o)/i+2;break;case a:l=(o-r)/i+4}l=l/6*360}return{hue:l,saturation:t,value:s}}function hexToHsv(e){e=hexToRgb(e);return rgbToHsv(e.red,e.green,e.blue)}function hsvToRgb(e,n,t){if(e<0||360<e||n<0||1<n||t<0||1<t)throw new Error("Invalid hue, saturation, or value - all values must be between 0 and 1");var o=0,r=0,a=0,e=e/360,i=Math.floor(6*e),e=6*e-i,l=t*(1-n),s=t*(1-e*n),u=t*(1-(1-e)*n);switch(i%6){case 0:o=t,r=u,a=l;break;case 1:o=s,r=t,a=l;break;case 2:o=l,r=t,a=u;break;case 3:o=l,r=s,a=t;break;case 4:o=u,r=l,a=t;break;case 5:o=t,r=l,a=s}return{red:o=Math.round(255*o),green:r=Math.round(255*r),blue:a=Math.round(255*a)}}function hsvToHex(e,n,t){e=hsvToRgb(e,n,t);return rgbToHex(e.red,e.green,e.blue)}var css_248z$e=".AlphaSlider-module_alpha_slider__ROGzA {\n  position: relative;\n  height: calc(var(--cgp-value-picker-width, 12px) - 4px);\n  border-radius: calc((var(--cgp-value-picker-width, 12px) - 4px) / 2);\n\n  background-color: #7e7e84;\n  background-image: linear-gradient(\n      45deg,\n      #4c4c52 25%,\n      transparent 25%,\n      transparent 75%,\n      #4c4c52 75%,\n      #4c4c52\n    ),\n    linear-gradient(\n      45deg,\n      #4c4c52 25%,\n      transparent 25%,\n      transparent 75%,\n      #4c4c52 75%,\n      #4c4c52\n    );\n  background-position: 0 0,\n    calc((var(--cgp-value-picker-width, 12px) - 4px) / 2)\n      calc((var(--cgp-value-picker-width, 12px) - 4px) / 2);\n  background-size: calc(var(--cgp-value-picker-width, 12px) - 4px)\n      calc(var(--cgp-value-picker-width, 12px) - 4px),\n    calc(var(--cgp-value-picker-width, 12px) - 4px)\n      calc(var(--cgp-value-picker-width, 12px) - 4px);\n  background-repeat: repeat, repeat;\n}\n\n.AlphaSlider-module_alpha_slider_picker__p8EKM {\n  position: absolute;\n  top: calc(0px - var(--cgp-value-picker-border, 2px));\n  left: 0;\n  width: var(--cgp-value-picker-width, 12px);\n  height: var(--cgp-value-picker-width, 12px);\n  border: var(--cgp-value-picker-border, 2px) solid #ffffff;\n  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.5);\n  background-color: #ff0000;\n  border-radius: 55%;\n  cursor: pointer;\n  transform: translateX(-50%);\n}\n\n.AlphaSlider-module_alpha_slider_bg__YsvGq {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  border-radius: calc((var(--cgp-value-picker-width, 12px) - 4px) / 2);\n}\n",s$d={alpha_slider:"AlphaSlider-module_alpha_slider__ROGzA",alpha_slider_picker:"AlphaSlider-module_alpha_slider_picker__p8EKM",alpha_slider_bg:"AlphaSlider-module_alpha_slider_bg__YsvGq"},AlphaSlider=(styleInject(css_248z$e),function(e){var n=e.alpha,t=e.onChange,o=e.hex,e=e.className,r=useState(!1),a=r[0],i=r[1],l=useRef(null),s=useCallback(function(e){var n;l.current&&(n=l.current.getBoundingClientRect(),e=getAlphaFromPosition(e.clientX-n.left,l.current.clientWidth),t(e))},[t]),r=useCallback(function(e){e.target.setPointerCapture(e.pointerId),i(!0),s(e)},[s]),u=useCallback(function(e){e.target.releasePointerCapture(e.pointerId),i(!1)},[]),c=useCallback(function(e){i(!0),s(e)},[s]),p=useCallback(function(e){a&&s(e)},[a,s]),d=useCallback(function(){i(!1)},[]),r=window.PointerEvent?{onPointerDown:r,onPointerMove:p,onPointerUp:u}:{onMouseDown:c,onMouseMove:p,onMouseUp:d},u={left:getAlphaDisplayValueFromAlpha(n,ALPHA_SYMBOL),backgroundColor:o},c=hexToRgb(o),p=c.red,d=c.green,n=c.blue,c={background:"linear-gradient(to right, rgba(".concat(p,", ").concat(d,", ").concat(n,", 0) 0%, ").concat(o," 100%)")};return jsxs("div",__assign({className:cn(s$d.alpha_slider,e),ref:l,title:"Alpha"},r,{children:[jsx("div",{className:s$d.alpha_slider_bg,style:c}),jsx("div",{className:cn(s$d.alpha_slider_picker),style:u})]}))}),EyeDropper$1=function(e){var n=e.onClick,e=e.theme;return jsx("button",__assign({style:{outline:"none",border:"none",backgroundColor:"transparent",cursor:"pointer",padding:0,flexShrink:0,marginRight:4,height:"32px",width:"32px"},onClick:n,type:"button"},{children:jsx("svg",__assign({width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:jsx("path",{d:"M2.61333 11.6667L1.33333 10.3867L6.70667 5.00002L8 6.29335L2.61333 11.6667ZM11.8067 2.75335L10.2467 1.19335C10 0.933352 9.56667 0.933352 9.30667 1.19335L7.22667 3.27335L5.94 2.00002L5 2.94002L5.94667 3.88669L0 9.83335V13H3.16667L9.11333 7.05335L10.06 8.00002L11 7.06002L9.72 5.78002L11.8 3.70002C12.0667 3.43335 12.0667 3.00002 11.8067 2.75335Z",fill:"light"===e?"black":"white",fillOpacity:"light"===e?"0.8":"0.3"})}))}))},css_248z$d=".HueSlider-module_hue_slider__rG-zT {\n  position: relative;\n  height: calc(var(--cgp-value-picker-width, 12px) - 4px);\n  border-radius: calc((var(--cgp-value-picker-width, 12px) - 4px) / 2);\n\n  background-image: linear-gradient(\n    to left,\n    #ff0000 0%,\n    #ff00ff 16.66%,\n    #0000ff 33.33%,\n    #00ffff 50%,\n    #00ff00 66.66%,\n    #ffff00 80.33%,\n    #ff0000 100%\n  );\n}\n\n.HueSlider-module_hue_slider_picker__GlAsz {\n  position: absolute;\n  top: calc(0px - var(--cgp-value-picker-border, 2px));\n  left: 0;\n  width: var(--cgp-value-picker-width, 12px);\n  height: var(--cgp-value-picker-width, 12px);\n  border: var(--cgp-value-picker-border, 2px) solid #ffffff;\n  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.5);\n  background-color: #ff0000;\n  border-radius: 55%;\n  cursor: pointer;\n  transform: translateX(-50%);\n}\n",s$c={hue_slider:"HueSlider-module_hue_slider__rG-zT",hue_slider_picker:"HueSlider-module_hue_slider_picker__GlAsz"},HueSlider=(styleInject(css_248z$d),function(e){var n=e.hue,t=e.onChange,e=e.className,o=useState(!1),r=o[0],a=o[1],i=useRef(null),o=hsvToHex(n,1,1),l=useCallback(function(e){var n;i.current&&(n=i.current.getBoundingClientRect(),e=getHueFromPosition(e.clientX-n.left,i.current.clientWidth),t(e))},[t]),s=useCallback(function(e){e.target.setPointerCapture(e.pointerId),a(!0),l(e)},[l]),u=useCallback(function(e){e.target.releasePointerCapture(e.pointerId),a(!1)},[]),c=useCallback(function(e){a(!0),l(e)},[l]),p=useCallback(function(e){r&&l(e)},[r,l]),d=useCallback(function(){a(!1)},[]),s=window.PointerEvent?{onPointerDown:s,onPointerMove:p,onPointerUp:u}:{onMouseDown:c,onMouseMove:p,onMouseUp:d},u={left:"".concat(n/360*100,"%"),backgroundColor:o};return jsx("div",__assign({className:cn(s$c.hue_slider,e),ref:i,title:"Hue"},s,{children:jsx("div",{className:cn(s$c.hue_slider_picker),style:u})}))}),css_248z$c=".Input-Alpha-module_alpha_info__1tLYc {\n  width: 16px;\n  height: 16px;\n  border-radius: 1px;\n  border: 2px solid #7e7e84;\n  background-color: var(--cgp-background-color);\n  background-image: linear-gradient(\n      45deg,\n      #7e7e84 25%,\n      transparent 25%,\n      transparent 75%,\n      #7e7e84 75%,\n      #7e7e84\n    ),\n    linear-gradient(\n      45deg,\n      #7e7e84 25%,\n      transparent 25%,\n      transparent 75%,\n      #7e7e84 75%,\n      #7e7e84\n    );\n  background-position: 0 0, 4px 4px;\n  background-size: 8px 8px, 8px 8px;\n  background-repeat: repeat, repeat;\n}\n\n.Input-Alpha-module_alpha_input__GIpLF {\n  margin-right: 2px;\n}\n",s$b={alpha_info:"Input-Alpha-module_alpha_info__1tLYc",alpha_input:"Input-Alpha-module_alpha_input__GIpLF"};function ColorInputAlpha(e){function n(){var e=parseInt(i.replace(ALPHA_SYMBOL,""))/100;o(e),l(getAlphaDisplayValueFromAlpha(e,ALPHA_SYMBOL))}var t=e.value,o=e.onChange,r=e.onInputBlur,e=__rest(e,["value","onChange","onInputBlur"]),a=useState(getAlphaDisplayValueFromAlpha(t,ALPHA_SYMBOL)),i=a[0],l=a[1];useEffect(function(){l(getAlphaDisplayValueFromAlpha(t,ALPHA_SYMBOL))},[t]);return jsx(ColorInputBase,__assign({},e,{info:jsx(InputAlphaInfo,{}),onChange:function(e){e=parseInt(e.currentTarget.value.replace(ALPHA_SYMBOL,""));(e=(e=Math.round(e))<ALPHA_DISPLAY_VALUE_RANGE.MIN?ALPHA_DISPLAY_VALUE_RANGE.MIN:e)>ALPHA_DISPLAY_VALUE_RANGE.MAX&&(e=ALPHA_DISPLAY_VALUE_RANGE.MAX),Number.isNaN(e)&&(e=ALPHA_DISPLAY_VALUE_RANGE.MIN),l(e+"")},onKeyDown:function(e){e.stopPropagation(),e.key===KEYS.ENTER&&n()},onInputBlur:function(e){n(),"function"==typeof r&&r(e)},onInputFocus:function(){l(i.replace(ALPHA_SYMBOL,""))},value:i,inputClassName:s$b.alpha_input}))}function InputAlphaInfo(){return jsx("div",{className:s$b.alpha_info})}function sanitizeHex(e){e=e.replace(/[^a-fA-F0-9]/g,"");return 0===e.length?e="000000":1===e.length?e=e[0].repeat(6):2===e.length?e="".concat(e[0].repeat(3)).concat(e[1].repeat(3)):3<=e.length&&e.length<6?e="".concat(e[0].repeat(2)).concat(e[1].repeat(2)).concat(e[2].repeat(2)):6<e.length&&(e=e.slice(0,6)),"#".concat(e)}styleInject(css_248z$c);var css_248z$b=".Input-Hex-module_color_preview__e8aEe {\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 2px;\n  text-align: center;\n  border: 1px solid var(--cgp-input-border-color);\n}\n",s$a={color_preview:"Input-Hex-module_color_preview__e8aEe"};function ColorInputHex(e){function n(){var e;l&&(e=sanitizeHex(s),o(e),u(e))}var t=e.value,o=e.onChange,r=e.onInputBlur,a=e.onColorPreviewClick,i=e.shouldUpdateColorValue,l=void 0===i||i,i=__rest(e,["value","onChange","onInputBlur","onColorPreviewClick","shouldUpdateColorValue"]),e=useState(t),s=e[0],u=e[1];useEffect(function(){u(t)},[t]);return jsx(ColorInputBase,__assign({},i,{onChange:function(e){l&&(e=e.currentTarget.value,u(e))},onKeyDown:function(e){e.stopPropagation(),e.key===KEYS.ENTER&&n()},onInputBlur:function(e){n(),"function"==typeof r&&r(e)},value:s.toUpperCase(),info:jsx(ColorPreview,{onClick:a,value:t})}))}function ColorPreview(e){var n=e.value,e=e.onClick;return jsx("div",{style:{background:n},className:s$a.color_preview,onClick:e,role:"presentation"})}styleInject(css_248z$b);var css_248z$a=".Input-Rgb-module_input_text__kPq9F {\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 2px;\n  text-align: center;\n  position: relative;\n  top: -3px;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 22px;\n  color: var(--cgp-text-color);\n}\n",s$9={input_text:"Input-Rgb-module_input_text__kPq9F"};function ColorInputRgb(e){function n(){r(s),u(s)}var t=e.inputProps,o=e.info,r=e.onChange,a=e.value,i=e.onInputBlur,e=__rest(e,["inputProps","info","onChange","value","onInputBlur"]),l=useState(a),s=l[0],u=l[1],l=__assign(__assign({},t),{type:"number",min:RGB_VALUE_RANGE.MIN,max:RGB_VALUE_RANGE.MAX});useEffect(function(){u(a)},[a]);return jsx(ColorInputBase,__assign({},e,{onChange:function(e){e=parseInt(e.currentTarget.value);(e=e<RGB_VALUE_RANGE.MIN?RGB_VALUE_RANGE.MIN:e)>RGB_VALUE_RANGE.MAX&&(e=RGB_VALUE_RANGE.MAX),Number.isNaN(e)&&(e=RGB_VALUE_RANGE.MIN),u(e)},onKeyDown:function(e){e.stopPropagation(),e.key===KEYS.ENTER&&n()},value:s,onInputBlur:function(e){n(),"function"==typeof i&&i(e)},info:jsx(InputTextInfo,{children:o}),inputProps:l}))}function InputTextInfo(e){e=e.children;return jsx("div",__assign({className:s$9.input_text},{children:e}))}styleInject(css_248z$a);var css_248z$9='.InputFields-module_color_inputs_wrapper__N6zR9 {\n  padding-left: 16px;\n  padding-right: 16px;\n  display: grid;\n  grid-template-areas: "hex hex alpha" "red green blue";\n  gap: 8px;\n}\n\n.InputFields-module_no_alpha_input__iQupf {\n  grid-template-areas: "hex hex hex" "red green blue";\n}\n\n.InputFields-module_hex__K3P0j {\n  grid-area: hex;\n}\n\n.InputFields-module_alpha__QUWp8 {\n  grid-area: alpha;\n}\n\n.InputFields-module_red__R9LH- {\n  grid-area: red;\n  margin-left: -2px;\n}\n\n.InputFields-module_green__r1Pgv {\n  grid-area: green;\n}\n\n.InputFields-module_blue__kmWkl {\n  grid-area: blue;\n}\n',s$8={color_inputs_wrapper:"InputFields-module_color_inputs_wrapper__N6zR9",no_alpha_input:"InputFields-module_no_alpha_input__iQupf",hex:"InputFields-module_hex__K3P0j",alpha:"InputFields-module_alpha__QUWp8",red:"InputFields-module_red__R9LH-",green:"InputFields-module_green__r1Pgv",blue:"InputFields-module_blue__kmWkl"},InputFields=(styleInject(css_248z$9),function(e){var n=e.hex,t=e.alpha,o=e.rgb,r=e.setColor,a=e.setAlpha,i=e.setColorFromRgb,e=e.hasAlphaInput,e=void 0===e||e,l=o.red,s=o.green,u=o.blue;return jsxs("div",__assign({className:cn(s$8.color_inputs_wrapper,!e&&s$8.no_alpha_input)},{children:[jsx(ColorInputHex,{label:"HEX",inputWidth:e?100:180,className:s$8.hex,value:n,onChange:function(e){r(e,hexToHsv(e))}}),e&&jsx(ColorInputAlpha,{inputWidth:40,className:s$8.alpha,value:t,onChange:function(e){a(e)}}),jsx(ColorInputRgb,{label:"RGB",info:"R",inputWidth:31,className:s$8.red,value:l,onChange:function(e){i({red:e,green:s,blue:u})}}),jsx(ColorInputRgb,{info:"G",inputWidth:31,className:s$8.green,value:s,onChange:function(e){i({red:l,green:e,blue:u})}}),jsx(ColorInputRgb,{info:"B",inputWidth:31,className:s$8.blue,value:u,onChange:function(e){i({red:l,green:s,blue:e})}})]}))}),css_248z$8=".SaturationPicker-module_saturation_value_selector__npuJb {\n  position: relative;\n  box-sizing: border-box;\n  width: 300px;\n  height: 300px;\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, #000 100%),\n    linear-gradient(to left, rgba(255, 255, 255, 0) 0%, #fff 100%);\n  background-color: #fff;\n}\n\n.SaturationPicker-module_saturation_value_picker__KAqst {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: var(--cgp-value-picker-width, 12px);\n  height: var(--cgp-value-picker-width, 12px);\n  box-sizing: border-box;\n  border: 2px solid #fff;\n  border-radius: 50%;\n  cursor: pointer;\n  transform: translate(-50%, -50%);\n}\n",s$7={saturation_value_selector:"SaturationPicker-module_saturation_value_selector__npuJb",saturation_value_picker:"SaturationPicker-module_saturation_value_picker__KAqst"},SaturationPicker=(styleInject(css_248z$8),function(e){var n=e.hue,t=e.saturation,o=e.value,r=e.onChange,e=useState(!1),a=e[0],i=e[1],l=useRef(null),e=hsvToHex(n,1,1),n=hsvToHex(n,t,o),s=useCallback(function(e){var n;l.current&&(n=l.current.getBoundingClientRect(),e=getSaturationValueFromPosition(e.clientX-n.left,e.clientY-n.top,l.current.clientWidth,l.current.clientHeight),r(e))},[r]),u=useCallback(function(e){e.target.setPointerCapture(e.pointerId),i(!0),s(e)},[s]),c=useCallback(function(e){e.target.releasePointerCapture(e.pointerId),i(!1)},[]),p=useCallback(function(e){i(!0),s(e)},[s]),d=useCallback(function(e){a&&s(e)},[a,s]),_=useCallback(function(){i(!1)},[]),u=window.PointerEvent?{onPointerDown:u,onPointerMove:d,onPointerUp:c}:{onMouseDown:p,onMouseMove:d,onMouseUp:_};return jsx("div",__assign({className:cn(s$7.saturation_value_selector),style:{backgroundColor:e},ref:l,title:"Saturation and Value"},u,{children:jsx("div",{className:cn(s$7.saturation_value_picker),style:{left:"".concat(100*t,"%"),top:"".concat(100*(1-o),"%"),backgroundColor:n}})}))}),css_248z$7=".SolidColorPicker-module_sliders_wrapper__es78S {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 16px 16px 16px 8px;\n  gap: 8px;\n  height: 64px;\n}\n\n.SolidColorPicker-module_sliders_wrapper__es78S.SolidColorPicker-module_no_alpha_input__PTgfW {\n  padding: 10px 16px 0 8px;\n}\n\n.SolidColorPicker-module_sliders__4LDoJ {\n  flex-grow: 1;\n  display: grid;\n  gap: 12px;\n  padding: 0;\n}\n\n.SolidColorPicker-module_hue_slider__tWCqT {\n  margin-bottom: 0;\n}\n\n.SolidColorPicker-module_btnEye__XSWz8 {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n}\n",s$6={sliders_wrapper:"SolidColorPicker-module_sliders_wrapper__es78S",no_alpha_input:"SolidColorPicker-module_no_alpha_input__PTgfW",sliders:"SolidColorPicker-module_sliders__4LDoJ",hue_slider:"SolidColorPicker-module_hue_slider__tWCqT",btnEye:"SolidColorPicker-module_btnEye__XSWz8"},SolidColorPicker=(styleInject(css_248z$7),function(e){function i(e,n){c.current=e,u.current=n,r(e)}function n(e){i(hsvToHex(e.hue,e.saturation,e.value),e)}var t=e.hex,o=e.alpha,r=e.onColorChange,a=e.onAlphaChange,l=e.hasAlphaInput,l=void 0===l||l,e=e.theme,s=useState(t)[1],u=useRef(hexToHsv(t)),c=useRef(t),p=u.current,d=p.hue,_=p.saturation,p=p.value,g=hexToRgb(c.current);useEffect(function(){u.current=hexToHsv(t),c.current=t,s(t)},[t]);return jsxs(Fragment,{children:[jsx(SaturationPicker,{hue:d,saturation:_,value:p,onChange:function(e){n(__assign(__assign({},u.current),e))}}),jsxs("div",__assign({className:cn(s$6.sliders_wrapper,!l&&s$6.no_alpha_input)},{children:[jsx("div",__assign({className:s$6.btnEye},{children:jsx(EyeDropper$1,{onClick:function(){return __awaiter(void 0,void 0,void 0,function(){var n,t,o,r,a;return __generator(this,function(e){switch(e.label){case 0:return[4,openNativeEyeDropper()];case 1:return n=e.sent(),o=/\d+/g,a=null==n?void 0:n.startsWith("rgb"),t=null==n?void 0:n.startsWith("#"),a?(a=n.match(o).map(Number),o=a[0],r=a[1],a=a[2],null!==n&&i(rgbToHex(o,r,a),rgbToHsv(o,r,a))):t&&i(n,hexToHsv(n)),[2]}})})},theme:e})})),jsxs("div",__assign({className:cn(s$6.sliders)},{children:[jsx(HueSlider,{hue:d,onChange:function(e){return n(__assign(__assign({},u.current),{hue:e}))},className:s$6.hue_slider}),l&&jsx(AlphaSlider,{alpha:o,hex:t,onChange:a})]}))]})),jsx(InputFields,{hex:t,rgb:g,alpha:o,setAlpha:a,setColor:i,setColorFromRgb:function(e){var n=e.red,t=e.green,e=e.blue;i(rgbToHex(n,t,e),rgbToHsv(n,t,e))},hasAlphaInput:l})]})}),Events={MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEUP:"mouseup",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend"},DRAG_HANDLERS={MOUSE:{stop:function(e){e.stopPropagation()},coordinates:function(e){return{clientX:e.clientX,clientY:e.clientY}},dragEvent:{name:Events.MOUSEMOVE},dragEndEvent:{name:Events.MOUSEUP}},TOUCH:{stop:function(){},coordinates:function(e){e=e.touches[0];return{clientX:e.clientX,clientY:e.clientY}},dragEvent:{name:Events.TOUCHMOVE,options:{cancelable:!0,passive:!0}},dragEndEvent:{name:Events.TOUCHEND}}},isTouch=function(e){return e.type===Events.TOUCHSTART},useHandleColorStopDraggingEvent=function(e){function t(e,n){s(!0),u.current.handler=n,a(n.coordinates(e))}function o(){s(!1),n(u.current.change),u.current={}}function r(e){var n=u.current.handler;l&&(u.current.change=i(n.coordinates(e)))}var a=e.onDragStart,i=e.onDrag,n=e.onDragEnd,e=useState(!1),l=e[0],s=e[1],u=useRef({});return useEffect(function(){var e,n,t=u.current.handler;if(t)return e=t.dragEvent,n=t.dragEndEvent,l&&(document.addEventListener(e.name,r,n.options),document.addEventListener(n.name,o)),function(){document.removeEventListener(e.name,r,n.options),document.removeEventListener(n.name,o)}},[l]),[function(e){var n=isTouch(e)?DRAG_HANDLERS.TOUCH:DRAG_HANDLERS.MOUSE;n.stop(e),t(e,n)},t,o]},limitPos=function(e,n,t){return Math.max(Math.min(e,t),n)},getColorStopRefTop=function(e){return e.current?e.current.getBoundingClientRect().top:0},useColorStopDrag=function(e){var l=e.limits,s=e.stop,u=e.colorStopRef,c=e.onPosChange,n=e.onDragStart,t=e.onDragEnd,p=e.onDeleteColor,e=useState(0),d=e[0],o=e[1];return[useHandleColorStopDraggingEvent({onDragStart:function(e){e=e.clientX;void 0!==s.id&&(o(e),n(s.id))},onDrag:function(e){var n,t=e.clientX,e=e.clientY,o=s.id,r=s.offset,a=l.min,i=l.max;void 0!==o&&(n=getColorStopRefTop(u),Math.abs(e-n)>(l.drop||DEFAULT_STOP_REMOVAL_DROP)?p(o):(e=limitPos(r-d+t,a,i),c(o,e)))},onDragEnd:function(){void 0!==s.id&&null!=t&&t(s.id)}})[0]]},css_248z$6='.ColorStop-module_color_stop__keqws {\n  position: absolute;\n  cursor: pointer;\n  height: 15px;\n  width: 15px;\n  top: 6px;\n  border-radius: 2px;\n  border: 2px solid #fff;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);\n}\n\n.ColorStop-module_color_stop__keqws:hover {\n  border-color: #1677ff;\n}\n\n.ColorStop-module_color_stop__keqws::before {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -7px;\n  left: 3px;\n  border: 3px solid transparent;\n  border-bottom: 3px solid #fff;\n  box-sizing: border-box;\n}\n\n.ColorStop-module_color_stop__keqws:hover::before {\n  border-bottom-color: #1677ff;\n}\n\n.ColorStop-module_color_stop__keqws.ColorStop-module_active__se76I {\n  border: 2px solid #1677ff;\n}\n\n.ColorStop-module_color_stop__keqws.ColorStop-module_active__se76I::before {\n  border-bottom-color: #1677ff;\n}\n\n.ColorStop-module_color_stop__keqws::after {\n  content: "";\n  width: 2px;\n  height: 28px;\n  position: absolute;\n  border-radius: 2px;\n  background-color: #fff;\n  top: -33px;\n  left: 5px;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.8);\n}\n',s$5={color_stop:"ColorStop-module_color_stop__keqws",active:"ColorStop-module_active__se76I"},ColorStop=(styleInject(css_248z$6),function(e){var n=e.stop,t=e.limits,o=e.onPosChange,r=e.onDeleteColor,a=e.onDragStart,e=e.onDragEnd,i=useRef(null),t=useColorStopDrag({stop:n,limits:t,onPosChange:o,onDragStart:a,onDragEnd:e,onDeleteColor:r,colorStopRef:i})[0],o=n.offset,a=n.red,e=n.green,r=n.blue,l=n.isActive,n=n.alpha,a="rgba(".concat(a,", ").concat(e,", ").concat(r,", ").concat(n,")");return jsx("div",{className:cn(s$5.color_stop,l&&s$5.active),ref:i,role:"presentation",style:{left:o,backgroundColor:a,opacity:n},onMouseDown:t,onTouchStart:t,title:a})}),ColorStopsHolder=function(e){var n=e.stops,t=__rest(e,["stops"]);return jsx("div",__assign({style:{width:DEFAULT_PALETTE_WIDTH,height:DEFAULT_PALETTE_HEIGHT,position:"relative"}},{children:n.map(function(e){return jsx(ColorStop,__assign({stop:e},t),e.id)})}))},Palette=function(e){var n=e.points,t=e.onAddColor,e=e.disabled,n=getLinearGradientBackgroundCss({points:n,degree:90});return jsx("div",{style:{width:DEFAULT_PALETTE_WIDTH,height:DEFAULT_PALETTE_HEIGHT,marginTop:8,backgroundImage:n,cursor:e?"default":"copy"},onMouseDown:function(e){e.preventDefault(),e.button||(e=e.clientX-e.target.getBoundingClientRect().left,t(e))}})},css_248z$5=".GradientPicker-module_gradient_picker__TzQzH {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-top: 8px;\n  padding-bottom: 8px;\n}\n",s$4={gradient_picker:"GradientPicker-module_gradient_picker__TzQzH"},nextColorId=(styleInject(css_248z$5),function(e){return Math.max.apply(Math,e.map(function(e,n){return e.id||n}))+1}),mapIdToPoints=function(e){return __spreadArray([],e,!0).map(function(e,n){return __assign(__assign({},e),{id:e.id||n+1})})},mapPointsToStops=function(e){var n=e.palette,t=e.activeId;return n.map(function(e){return __assign(__assign({},e),{id:e.id,offset:DEFAULT_PALETTE_WIDTH*Number(e.offset)-HALF_STOP_WIDTH,isActive:e.id===t})})},getPointsColor=function(e,n){e=e.find(function(e){return e.id===n})||e[0];return __assign(__assign({},e),{offset:Number(e.offset)})},GradientPicker=function(e){function r(e,n){e=sortPalettePoints(__spreadArray([],e,!0)).map(function(e){var n=e.offset,t=e.id,e=__rest(e,["offset","id"]);return __assign(__assign({},e),{id:t,offset:n,active:t===p})}),t({degree:n,points:e})}var n=e.gradient,t=e.onLinearGradientChange,o=e.stopRemovalDrop,a=void 0===o?DEFAULT_STOP_REMOVAL_DROP:o,o=e.minStops,i=void 0===o?DEFAULT_MIN_STOPS:o,o=e.maxStops,l=void 0===o?DEFAULT_MAX_STOPS:o,o=e.theme,s=n.points,u=n.degree,c=mapIdToPoints(s),e=c[0],n=useState(e.id),p=n[0],d=n[1],e=useMemo(function(){return{min:-HALF_STOP_WIDTH,max:DEFAULT_PALETTE_WIDTH-HALF_STOP_WIDTH,drop:a}},[a]),n=c.length>=l,_=c.find(function(e){return e.id===p}),g=(null==_?void 0:_.alpha)||ALPHA_DISPLAY_VALUE_RANGE.MAX,_=_||{red:0,green:0,blue:0},f=_.red,h=_.green,_=_.blue;return jsxs(Fragment,{children:[jsxs("div",__assign({className:s$4.gradient_picker},{children:[jsxs("div",{children:[jsx(Palette,{onAddColor:function(e){var n,t,o;c.length>=l||(o=(t=getPointsColor(c,p)).red,n=t.green,t=t.blue,e={id:nextColorId(c),offset:e/DEFAULT_PALETTE_WIDTH,red:o,green:n,blue:t,alpha:ALPHA_VALUE_RANGE.MAX},o=__spreadArray(__spreadArray([],c,!0),[e],!1),d(e.id),r(o,u))},degree:u,points:c,disabled:n}),jsx(ColorStopsHolder,{stops:mapPointsToStops({palette:c,activeId:p}),limits:e,onPosChange:function(n,t){var e=c.map(function(e){return n===e.id?__assign(__assign({},e),{offset:(t+HALF_STOP_WIDTH)/DEFAULT_PALETTE_WIDTH}):e});r(e,u)},onDeleteColor:function(n){var e,t;c.length<=i||(t=(e=c.filter(function(e){return e.id!==n})).reduce(function(e,n){return n.offset<e.offset?n:e},e[0]).id,d(t),r(e,u))},onDragStart:function(e){e!==p&&d(e)}})]}),jsx(ColorInputDegree,{onChange:function(e){r(s,e)},value:u,theme:o})]})),jsx(SolidColorPicker,{hex:rgbToHex(f,h,_),alpha:g,onAlphaChange:function(n){var e=c.map(function(e){return p===e.id?__assign(__assign({},e),{alpha:n}):e});r(e,u)},onColorChange:function(n){var e=c.map(function(e){return p===e.id?__assign(__assign({},e),hexToRgb(n)):e});r(e,u)},theme:o})]})},css_248z$4=".PanelHeader-module_select_wrapper__Zt7i9 {\n  height: 32px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 4px 0 12px;\n  gap: 12px;\n  width: 300px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  background-color: var(--cgp-background-color);\n}\n\n.PanelHeader-module_select__DoX6A {\n  outline: none;\n  border: none;\n  font-weight: 400;\n  line-height: 22px;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  overflow: hidden;\n  color: var(--cgp-text-color, #515151);\n  background: transparent;\n}\n\n.PanelHeader-module_no_arrow__2FX-3 {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\n.PanelHeader-module_close_btn__SGUb0 {\n  border: none;\n  background: transparent;\n  margin-left: auto;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",s$3={select_wrapper:"PanelHeader-module_select_wrapper__Zt7i9",select:"PanelHeader-module_select__DoX6A",no_arrow:"PanelHeader-module_no_arrow__2FX-3",close_btn:"PanelHeader-module_close_btn__SGUb0"},PanelHeader=(styleInject(css_248z$4),function(e){var n=e.value,t=e.onChange,o=e.colorSelectType,r=e.onClosePanel,a=e.draggableID,e=e.theme;return jsxs("div",__assign({className:s$3.select_wrapper},{children:[jsxs("select",__assign({className:cn(s$3.select,"all"!==o&&s$3.no_arrow),value:n,onChange:function(e){t(e.target.value)},style:{width:"linear-gradient"===n?75:52},disabled:"all"!==o},{children:[jsx("option",__assign({value:"solid"},{children:"Solid"})),jsx("option",__assign({value:"linear-gradient"},{children:"Gradient"}))]})),a&&jsx("div",{id:a,style:{flexGrow:1,height:"100%",cursor:"grab"}}),jsx("button",__assign({className:s$3.close_btn,onClick:r,type:"button"},{children:jsx("svg",__assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:jsx("path",{d:"M8.80926 8L12.9108 3.11094C12.9796 3.02969 12.9218 2.90625 12.8155 2.90625H11.5686C11.4952 2.90625 11.4249 2.93906 11.3764 2.99531L7.99363 7.02813L4.61082 2.99531C4.56394 2.93906 4.49363 2.90625 4.41863 2.90625H3.17176C3.06551 2.90625 3.00769 3.02969 3.07644 3.11094L7.17801 8L3.07644 12.8891C3.06104 12.9072 3.05116 12.9293 3.04798 12.9529C3.04479 12.9764 3.04843 13.0004 3.05846 13.022C3.0685 13.0435 3.08451 13.0617 3.10459 13.0745C3.12467 13.0872 3.14798 13.0939 3.17176 13.0938H4.41863C4.49207 13.0938 4.56238 13.0609 4.61082 13.0047L7.99363 8.97188L11.3764 13.0047C11.4233 13.0609 11.4936 13.0938 11.5686 13.0938H12.8155C12.9218 13.0938 12.9796 12.9703 12.9108 12.8891L8.80926 8Z",fill:"".concat("light"===e?"black":"white"),fillOpacity:"0.75"})}))}))]}))}),css_248z$3=".Input-Gradient-module_gradient_preview__GW6aM {\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 2px;\n  text-align: center;\n  border: 1px solid var(--cgp-input-border-color);\n}\n",s$2={gradient_preview:"Input-Gradient-module_gradient_preview__GW6aM"};function ColorInputGradient(e){var n=e.value,t=e.onColorPreviewClick,e=__rest(e,["value","onColorPreviewClick"]);return jsx(ColorInputBase,__assign({},e,{value:"Gradient",info:jsx(GradientPreview,{onClick:t,value:n})}))}function GradientPreview(e){var n=e.value,e=e.onClick,t=DEFAULT_HEX_DARK;return void 0!==n&&(t=getLinearGradientBackgroundCss(n)),jsx("div",{style:{background:t},className:s$2.gradient_preview,onClick:e,role:"presentation"})}styleInject(css_248z$3);var css_248z$2=".UserInput-module_input_vertical_divider__hDZqV {\n  border-left: 1px solid var(--cgp-input-border-color);\n  width: 1px;\n  height: 100%;\n}\n",s$1={input_vertical_divider:"UserInput-module_input_vertical_divider__hDZqV"},UserInput=(styleInject(css_248z$2),function(e){var n=e.color,t=e.onSolidColorChange,o=e.onAlphaChange,r=e.hasAlphaInput,a=e.inputWidth,a=void 0===a?80:a,i=e.theme,e=__rest(e,["color","onSolidColorChange","onAlphaChange","hasAlphaInput","inputWidth","theme"]),l=n||{},s=l.type,s=void 0===s?DEFAULT_COLOR_TYPE:s,u=l.solid,i=void 0===u?"dark"===i?DEFAULT_HEX_DARK:DEFAULT_HEX_LIGHT:u,u=l.alpha,u=void 0===u?ALPHA_VALUE_RANGE.MAX:u,l=l.gradient,l=void 0===l?DEFAULT_GRADIENT:l,r=r?jsxs(Fragment,{children:[jsx("div",{className:s$1.input_vertical_divider}),jsx(ColorInputAlpha,__assign({},e,{isExtraComponent:!0,value:u,onChange:o,inputWidth:45}))]}):void 0,u=!(null==n||!n.solid);return jsxs(Fragment,{children:["solid"===s&&jsx(ColorInputHex,__assign({},e,{inputWidth:a,value:u?i:"",shouldUpdateColorValue:u,onChange:t,extraInput:r})),"linear-gradient"===s&&jsx(ColorInputGradient,__assign({},e,{inputWidth:a,value:l}))]})}),useClosePanelWhenClickOutside=function(t,o,n){useEffect(function(){if("undefined"==typeof document)return function(){};if(n)return function(){};function e(e){var n;null!=(n=t.current)&&n.contains(e.target)||o()}return document.addEventListener("click",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("click",e),document.removeEventListener("touchstart",e)}},[o,t,n])},replacePx=function(e){return+e.replace("px","")},DEFAULT_BOUND={top:0,left:0,right:"undefined"!=typeof window?window.innerWidth:1e3,bottom:"undefined"!=typeof window?window.innerHeight:1e3};function dragElement(e){var t=e.containerEle,n=e.draggableElement,o=e.setPosition,r=e.setDragging,a=e.onDragEnd,e=e.bound,i=void 0===e?DEFAULT_BOUND:e,l=0,s=0,u=0,c=0;function p(e){var e=e||window.event,e=(e.preventDefault(),l=u-e.clientX,s=c-e.clientY,u=e.clientX,c=e.clientY,t.offsetTop-s),n=((e=e<i.top?i.top:e)+t.offsetHeight>i.bottom&&(e=i.bottom-t.offsetHeight),t.offsetLeft-l);(n=n<i.left?i.left:n)+t.offsetWidth>i.right&&(n=i.right-t.offsetWidth),t.style.top="".concat(e,"px"),t.style.left="".concat(n,"px")}function d(){o({left:t.style.left,top:t.style.top}),r(!1),null!=a&&a(t),document.onmouseup=null,document.onmousemove=null}function _(e){e=e||window.event;e.preventDefault(),u=e.clientX,c=e.clientY,r(!0),document.onmouseup=d,document.onmousemove=p}n?n.onmousedown=_:t.onmousedown=_}var useColorPickerPanelDraggable=function(e){var t=e.isDraggable,o=e.containerID,n=e.isPickerOpen,r=e.dragElementID,e=useState({top:void 0,left:void 0}),a=e[0],i=e[1],e=useState(!1),l=e[0],s=e[1],e=useState({top:0,left:0,right:"undefined"!=typeof window?window.innerWidth:1e3,bottom:"undefined"!=typeof window?window.innerHeight:1e3}),u=e[0],c=e[1];return useEffect(function(){if(!t)return function(){};function e(){c({top:0,left:0,right:"undefined"!=typeof window?window.innerWidth:1e3,bottom:"undefined"!=typeof window?window.innerHeight:1e3})}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[t]),useEffect(function(){var e,n;t&&o&&((e=document.getElementById(o))&&a.left&&a.top&&(e.style.left=a.left,e.style.top=a.top,n={top:a.top,left:a.left},replacePx(a.top)<u.top&&(n.top="".concat(u.top,"px"),e.style.top=n.top),replacePx(a.left)<u.left&&(n.left="".concat(u.left,"px"),e.style.left=n.left),replacePx(a.top)+e.offsetHeight>u.bottom&&(n.top="".concat(u.bottom-e.offsetHeight,"px"),e.style.top=n.top),replacePx(a.left)+e.offsetWidth>u.right&&(n.left="".concat(u.right-e.offsetWidth,"px"),e.style.left=n.left),i(n)))},[t,o,a.left,a.top,u.right,u.left,u.top,u.bottom]),useEffect(function(){var e;t&&o&&((e=document.getElementById(o))&&dragElement({containerEle:e,draggableElement:r?document.getElementById(r):void 0,bound:u,setPosition:i,setDragging:s}))},[t,o,a.left,a.top,r,u,i,s]),useEffect(function(){return function(){i({top:void 0,left:void 0})}},[n]),{isDragging:l}},css_248z$1=".global-module_wrapper__hci2I {\n  --cgp-font-family: Arial, Helvetica, sans-serif;\n  --cgp-base-font-size: 12px;\n\n  --cgp-value-picker-width: 12px;\n  --cgp-value-picker-border: 2px;\n  --cgp-input-height: 26px;\n  --cgp-picking-panel-zindex: 1;\n}\n\n.global-module_wrapper_light__iWX7R {\n  --cgp-text-color: #515151;\n  --cgp-background-color: #fff;\n  --cgp-input-focus-color: #40a9ff;\n  --cgp-input-hover-color: #d9d9d9;\n  --cgp-input-border-color: #d9d9d9;\n}\n\n.global-module_wrapper_dark__cFff5 {\n  --cgp-text-color: rgba(255, 255, 255, 0.65);\n  --cgp-background-color: #1f1f1f;\n  --cgp-input-focus-color: #a58d12;\n  --cgp-input-hover-color: #262626;\n  --cgp-input-border-color: #262626;\n}\n\n.global-module_wrapper__hci2I,\n.global-module_wrapper__hci2I * {\n  box-sizing: border-box;\n}\n\n.global-module_wrapper__hci2I {\n  font-family: var(--cgp-font-family);\n  font-size: var(--cgp-base-font-size, 12px);\n  position: relative;\n  display: inline-block;\n  color: var(--cgp-text-color, #515151);\n}\n\n.global-module_picking_panel__58NcQ {\n  width: 300px;\n  border-radius: 6px;\n  overflow: hidden;\n  position: absolute;\n  padding-bottom: 16px;\n  z-index: var(--cgp-picking-panel-zindex, 1);\n  box-shadow: 0 9px 28px 8px rgba(0, 0, 0, 0.05),\n    0 3px 6px -4px rgba(0, 0, 0, 0.12) !important;\n  filter: drop-shadow(0 6px 16px rgba(0, 0, 0, 0.08));\n  background-color: var(--cgp-background-color, #fff);\n}\n",s={wrapper:"global-module_wrapper__hci2I",wrapper_light:"global-module_wrapper_light__iWX7R",wrapper_dark:"global-module_wrapper_dark__cFff5",picking_panel:"global-module_picking_panel__58NcQ"},css_248z=(styleInject(css_248z$1),".placement-module_bottom-left__ufED4 {\n  top: calc(var(--cgp-input-height, 26px) + 10px); /* 26px: input height */\n}\n\n.placement-module_bottom-right__VyU-9 {\n  top: calc(var(--cgp-input-height, 26px) + 10px); /* 26px: input height */\n  right: 0;\n}\n\n.placement-module_top-left__bFxB8 {\n  bottom: calc(var(--cgp-input-height, 26px) + 10px); /* 26px: input height */\n}\n\n.placement-module_top-right__HVYgH {\n  bottom: calc(var(--cgp-input-height, 26px) + 10px); /* 26px: input height */\n  right: 0;\n}\n"),placementStyle={"bottom-left":"placement-module_bottom-left__ufED4","bottom-right":"placement-module_bottom-right__VyU-9","top-left":"placement-module_top-left__bFxB8","top-right":"placement-module_top-right__HVYgH"};function ColorGradientPicker(e){function n(e){a(__assign(__assign({},r),{solid:e}))}function t(e){a(__assign(__assign({},r),{alpha:e}))}var o=e.className,r=e.color,a=e.onChange,i=e.onInputFocus,l=e.panelClassName,u=e.colorSelectType,u=void 0===u?"all":u,c=e.panelPlacement,c=void 0===c?"bottom-left":c,p=e.style,d=e.panelStyle,_=e.hasAlphaInput,g=e.isDraggable,f=e.theme,f=void 0===f?"light":f,e=__rest(e,["className","color","onChange","onInputFocus","panelClassName","colorSelectType","panelPlacement","style","panelStyle","hasAlphaInput","isDraggable","theme"]),h=sanitizeHex((null==r?void 0:r.solid)||("dark"===f?DEFAULT_HEX_DARK:DEFAULT_HEX_LIGHT)),m=(null==r?void 0:r.alpha)||ALPHA_VALUE_RANGE.MAX,v=(null==r?void 0:r.gradient)||DEFAULT_GRADIENT,x=(null==r?void 0:r.type)||DEFAULT_COLOR_TYPE,b=useState(!1),E=b[0],C=b[1],b=useRef(null),A=useCallback(function(){C(!0)},[]),w=useCallback(function(){C(!1)},[]),I=useMemo(function(){return g?[getRandomString(),getRandomString()]:[void 0,void 0]},[g]),k=I[0],I=I[1],L=useColorPickerPanelDraggable({isDraggable:g&&E||!1,containerID:k||"",dragElementID:I,isPickerOpen:E}).isDragging;useClosePanelWhenClickOutside(b,w,L);return jsxs("div",__assign({ref:b,className:cn(s.wrapper,"dark"===f?s.wrapper_dark:s.wrapper_light,o),style:p},{children:[jsx(UserInput,__assign({},e,{hasAlphaInput:_,onSolidColorChange:n,onAlphaChange:t,color:r,onInputFocus:function(e){C(!0),"function"==typeof i&&i(e)},onColorPreviewClick:A,theme:f})),E&&jsxs("div",__assign({className:cn(s.picking_panel,placementStyle[c],l),style:__assign(__assign({},d),{position:g?"fixed":void 0}),id:k},{children:[jsx(PanelHeader,{value:x,onChange:function(e){a(__assign(__assign({},r),{type:e}))},colorSelectType:u,onClosePanel:w,draggableID:I,theme:f}),"linear-gradient"===x&&jsx(GradientPicker,{gradient:v,onLinearGradientChange:function(e){a(__assign(__assign({},r),{gradient:e}))},theme:f}),"solid"===x&&jsx(SolidColorPicker,{hasAlphaInput:_,hex:h,alpha:m,onAlphaChange:t,onColorChange:n,theme:f})]}))]}))}styleInject(css_248z);export{ColorGradientPicker as default};
